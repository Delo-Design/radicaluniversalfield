<?xml version="1.0" encoding="utf-8"?>
<form>
    <fields name="fieldparams" addfieldpath="/plugins/fields/radicaluniversalfield/fields">
        <fieldset name="fieldparams">

            <field
                    type="listfieldsall"
                    name="rtype"
                    label="field"
            >
                <option value="">- Выберите поле -</option>
            </field>

            <field
                    type="editor"
                    name="rxml"
                    editor="codemirror"
                    showon="rtype:cleanxml"
            />

            <field
                    type="text"
                    name="rname"
                    label="name"
                    showon="rtype!:cleanxml"
            />

            <field
                    type="text"
                    name="rlabel"
                    label="label"
                    showon="rtype!:cleanxml"
            />

            <field
                    type="textarea"
                    name="rdescription"
                    label="description"
                    showon="rtype!:cleanxml"
            />

            <field
                    type="subform"
                    name="rattrs"
                    label="attrs"
                    layout="joomla.form.field.subform.repeatable-table"
                    multiple="true"
                    showon="rtype!:cleanxml"
            >
                <form>
                    <field
                            type="text"
                            name="attr"
                    />
                    <field
                            type="text"
                            name="value"
                    />
                </form>
            </field>

            <field
                    type="subform"
                    name="rvalues"
                    label="values"
                    layout="joomla.form.field.subform.repeatable-table"
                    multiple="true"
                    showon="rtype!:cleanxml[AND]rtype:list[OR]rtype:radio"
            >
                <form>
                    <field
                            type="text"
                            name="title"
                    />
                    <field
                            type="text"
                            name="value"
                    />
                </form>
            </field>

            <field
                    type="subform"
                    name="rsubform"
                    label="subform"
                    layout="joomla.form.field.subform.repeatable"
                    multiple="true"
                    showon="rtype!:cleanxml[AND]rtype:subform"
            >
                <form>

                    <field
                            type="listfieldsall"
                            name="rtype"
                            label="field"
                            exclude="subform"
                    >
                        <option value="">- Выберите поле -</option>
                    </field>

                    <field
                            type="editor"
                            name="rxml"
                            editor="codemirror"
                            showon="rtype:cleanxml"
                    />

                    <field
                            type="text"
                            name="rname"
                            label="name"
                            showon="rtype!:cleanxml"
                    />

                    <field
                            type="text"
                            name="rlabel"
                            label="label"
                            showon="rtype!:cleanxml"
                    />

                    <field
                            type="textarea"
                            name="rdescription"
                            label="description"
                            showon="rtype!:cleanxml"
                    />

                    <field
                            type="subform"
                            name="rattrs"
                            label="attrs"
                            layout="joomla.form.field.subform.repeatable-table"
                            multiple="true"
                            showon="rtype!:cleanxml"
                    >
                        <form>
                            <field
                                    type="text"
                                    name="attr"
                            />
                            <field
                                    type="text"
                                    name="value"
                            />
                        </form>
                    </field>

                </form>
            </field>
        </fieldset>
    </fields>
</form>
